{"ast":null,"code":"export function transactionReducer(state, action) {\n  var _a, _b;\n  switch (action.type) {\n    case 'ADD_TRANSACTION':\n      {\n        const {\n          chainId\n        } = action.payload.transaction;\n        return Object.assign(Object.assign({}, state), {\n          [chainId]: [action.payload, ...((_a = state[chainId]) !== null && _a !== void 0 ? _a : [])]\n        });\n      }\n    case 'UPDATE_TRANSACTION':\n      {\n        const {\n          chainId,\n          hash\n        } = action.payload.transaction;\n        return Object.assign(Object.assign({}, state), {\n          [chainId]: ((_b = state[chainId]) !== null && _b !== void 0 ? _b : []).map(tx => tx.transaction.hash === hash ? Object.assign(Object.assign({}, tx), action.payload) : tx)\n        });\n      }\n    case 'UPDATE_TRANSACTIONS':\n      return Object.assign(Object.assign({}, state), {\n        [action.chainId]: [...action.transactions]\n      });\n  }\n}","map":{"version":3,"names":["transactionReducer","state","action","type","chainId","payload","transaction","Object","assign","_a","hash","_b","map","tx","transactions"],"sources":["/Users/mcbood/Desktop/unitest/node_modules/@usedapp/core/src/providers/transactions/reducer.ts"],"sourcesContent":["import { StoredTransaction, StoredTransactions, UpdatedTransaction } from './model'\n\ntype Action = AddTransaction | UpdateTransaction | UpdateTransactions\n\ninterface AddTransaction {\n  type: 'ADD_TRANSACTION'\n  payload: StoredTransaction\n}\ninterface UpdateTransaction {\n  type: 'UPDATE_TRANSACTION'\n  payload: UpdatedTransaction\n}\ninterface UpdateTransactions {\n  type: 'UPDATE_TRANSACTIONS'\n  chainId: number\n  transactions: StoredTransaction[]\n}\n\nexport function transactionReducer(state: StoredTransactions, action: Action): StoredTransactions {\n  switch (action.type) {\n    case 'ADD_TRANSACTION': {\n      const { chainId } = action.payload.transaction\n      return {\n        ...state,\n        [chainId]: [action.payload, ...(state[chainId] ?? [])],\n      }\n    }\n    case 'UPDATE_TRANSACTION': {\n      const { chainId, hash } = action.payload.transaction\n      return {\n        ...state,\n        [chainId]: (state[chainId] ?? []).map((tx) =>\n          tx.transaction.hash === hash ? { ...tx, ...action.payload } : tx\n        ),\n      }\n    }\n    case 'UPDATE_TRANSACTIONS':\n      return { ...state, [action.chainId]: [...action.transactions] }\n  }\n}\n"],"mappings":"AAkBA,OAAM,SAAUA,kBAAkBA,CAACC,KAAyB,EAAEC,MAAc;;EAC1E,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,iBAAiB;MAAE;QACtB,MAAM;UAAEC;QAAO,CAAE,GAAGF,MAAM,CAACG,OAAO,CAACC,WAAW;QAC9C,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKP,KAAK;UACR,CAACG,OAAO,GAAG,CAACF,MAAM,CAACG,OAAO,EAAE,IAAI,CAAAI,EAAA,GAAAR,KAAK,CAACG,OAAO,CAAC,cAAAK,EAAA,cAAAA,EAAA,GAAI,EAAE,CAAC;QAAC;;IAG1D,KAAK,oBAAoB;MAAE;QACzB,MAAM;UAAEL,OAAO;UAAEM;QAAI,CAAE,GAAGR,MAAM,CAACG,OAAO,CAACC,WAAW;QACpD,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKP,KAAK;UACR,CAACG,OAAO,GAAG,CAAC,CAAAO,EAAA,GAAAV,KAAK,CAACG,OAAO,CAAC,cAAAO,EAAA,cAAAA,EAAA,GAAI,EAAE,EAAEC,GAAG,CAAEC,EAAE,IACvCA,EAAE,CAACP,WAAW,CAACI,IAAI,KAAKA,IAAI,GAAEH,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMK,EAAE,GAAKX,MAAM,CAACG,OAAO,IAAKQ,EAAE;QACjE;;IAGL,KAAK,qBAAqB;MACxB,OAAAN,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAYP,KAAK;QAAE,CAACC,MAAM,CAACE,OAAO,GAAG,CAAC,GAAGF,MAAM,CAACY,YAAY;MAAC;EAAE;AAErE"},"metadata":{},"sourceType":"module","externalDependencies":[]}