{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { Contract } from 'ethers';\nimport { GNOSIS_SAFE_ABI } from '../helpers/gnosisSafeUtils';\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport const useGnosisSafeContract = (account, provider) => {\n  const safeContract = useRef(undefined);\n  useEffect(() => {\n    return () => {\n      var _a;\n      (_a = safeContract.current) === null || _a === void 0 ? void 0 : _a.removeAllListeners();\n    };\n  }, []);\n  return {\n    get: () => {\n      if (!account || !provider) {\n        return undefined;\n      }\n      if (safeContract.current) {\n        safeContract.current.removeAllListeners();\n      }\n      safeContract.current = new Contract(account, GNOSIS_SAFE_ABI, provider);\n      return safeContract.current;\n    }\n  };\n};","map":{"version":3,"names":["useEffect","useRef","Contract","GNOSIS_SAFE_ABI","useGnosisSafeContract","account","provider","safeContract","undefined","_a","current","removeAllListeners","get"],"sources":["/Users/mcbood/Desktop/unitest/node_modules/@usedapp/core/src/hooks/useGnosisSafeContract.ts"],"sourcesContent":["import { useEffect, useRef } from 'react'\nimport type { Signer, providers } from 'ethers'\nimport { Contract } from 'ethers'\nimport { GNOSIS_SAFE_ABI } from '../helpers/gnosisSafeUtils'\n\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nexport const useGnosisSafeContract = (\n  account: string | undefined,\n  provider: Signer | providers.Provider | undefined\n) => {\n  const safeContract = useRef<Contract | undefined>(undefined)\n\n  useEffect(() => {\n    return () => {\n      safeContract.current?.removeAllListeners()\n    }\n  }, [])\n\n  return {\n    get: () => {\n      if (!account || !provider) {\n        return undefined\n      }\n\n      if (safeContract.current) {\n        safeContract.current.removeAllListeners()\n      }\n      safeContract.current = new Contract(account, GNOSIS_SAFE_ABI, provider)\n\n      return safeContract.current\n    },\n  }\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,SAASC,QAAQ,QAAQ,QAAQ;AACjC,SAASC,eAAe,QAAQ,4BAA4B;AAE5D;;;AAGA,OAAO,MAAMC,qBAAqB,GAAGA,CACnCC,OAA2B,EAC3BC,QAAiD,KAC/C;EACF,MAAMC,YAAY,GAAGN,MAAM,CAAuBO,SAAS,CAAC;EAE5DR,SAAS,CAAC,MAAK;IACb,OAAO,MAAK;;MACV,CAAAS,EAAA,GAAAF,YAAY,CAACG,OAAO,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,kBAAkB,EAAE;IAC5C,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLC,GAAG,EAAEA,CAAA,KAAK;MACR,IAAI,CAACP,OAAO,IAAI,CAACC,QAAQ,EAAE;QACzB,OAAOE,SAAS;;MAGlB,IAAID,YAAY,CAACG,OAAO,EAAE;QACxBH,YAAY,CAACG,OAAO,CAACC,kBAAkB,EAAE;;MAE3CJ,YAAY,CAACG,OAAO,GAAG,IAAIR,QAAQ,CAACG,OAAO,EAAEF,eAAe,EAAEG,QAAQ,CAAC;MAEvE,OAAOC,YAAY,CAACG,OAAO;IAC7B;GACD;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}