{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { providers } from 'ethers';\nimport { getAddress } from 'ethers/lib/utils';\nimport { createContext, useCallback, useContext, useEffect, useState } from 'react';\nimport { useConfig, useLocalStorage, useReadonlyNetwork } from '../../../hooks';\nimport { useReadonlyNetworkStates } from '../readonlyNetworks/context';\nimport { ConnectorController } from './connectorController';\nimport { InjectedConnector } from './implementations';\nconst Provider = providers.Provider;\nconst getAccount = connector => {\n  if (connector === null || connector === void 0 ? void 0 : connector.accounts[0]) {\n    return getAddress(connector.accounts[0]);\n  }\n  return undefined;\n};\nexport const ConnectorContext = createContext({\n  connector: undefined,\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  activate: async () => {},\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  deactivate: () => {},\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  activateBrowserWallet: () => {},\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  reportError: () => {},\n  isLoading: false,\n  setError: () => {\n    throw new Error('Function not implemented.');\n  },\n  active: false,\n  switchNetwork: () => {\n    throw new Error('Function not implemented.');\n  }\n});\nexport function ConnectorContextProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  var _a;\n  const [controller, setController] = useState();\n  const [isLoading, setLoading] = useState(false);\n  const config = useConfig();\n  const {\n    connectors,\n    autoConnect\n  } = config;\n  const [autoConnectTag, setAutoConnectTag] = useLocalStorage('usedapp:autoConnectTag');\n  const activate = useCallback(async function (providerOrConnector) {\n    let {\n      silently,\n      onSuccess\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      silently: false\n    };\n    let controller;\n    if ('activate' in providerOrConnector) {\n      controller = new ConnectorController(providerOrConnector, config);\n    } else {\n      const wrappedProvider = Provider.isProvider(providerOrConnector) ? providerOrConnector : new providers.Web3Provider(providerOrConnector);\n      controller = new ConnectorController(new InjectedConnector(wrappedProvider), config);\n    }\n    setLoading(true);\n    setController(controller);\n    try {\n      if (silently) {\n        await controller.activate(connector => connector.connectEagerly());\n      } else {\n        await controller.activate();\n      }\n      setLoading(false);\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n    } catch (error) {\n      controller.reportError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, [setController, setLoading]);\n  const activateBrowserWallet = useCallback(async options => {\n    // done for backward compatibility.\n    // If the options object looks like an event object or is undefined,\n    // it's not a valid option and will be ignored\n    if (!options || typeof options.preventDefault === 'function') {\n      options = {\n        type: 'metamask'\n      };\n    }\n    const {\n      type\n    } = options;\n    if (!connectors[type]) {\n      throw new Error(`Connector ${type} is not configured`);\n    }\n    await activate(connectors[type], {\n      onSuccess: () => {\n        setAutoConnectTag(type);\n      }\n    });\n  }, [activate, setAutoConnectTag, connectors]);\n  const deactivate = useCallback(async () => {\n    setAutoConnectTag(undefined);\n    setLoading(true);\n    setController(undefined);\n    await (controller === null || controller === void 0 ? void 0 : controller.deactivate());\n    setLoading(false);\n  }, [controller]);\n  const reportError = useCallback(err => {\n    controller === null || controller === void 0 ? void 0 : controller.reportError(err);\n  }, [controller]);\n  const switchNetwork = useCallback(async chainId => {\n    await (controller === null || controller === void 0 ? void 0 : controller.switchNetwork(chainId));\n  }, [controller]);\n  const setErrorDeprecated = useCallback(() => {\n    throw new Error('setError is deprecated');\n  }, []);\n  const ethersActivate = useCallback(async providerOrConnector => {\n    if ('getProvider' in providerOrConnector) {\n      console.warn('Using web3-react connectors is deprecated and may lead to unexpected behavior.');\n      await providerOrConnector.activate();\n      return activate(await providerOrConnector.getProvider());\n    }\n    return activate(providerOrConnector);\n  }, []);\n  useEffect(() => {\n    if (autoConnect && autoConnectTag && connectors[autoConnectTag]) {\n      void activate(connectors[autoConnectTag], {\n        silently: true\n      });\n    }\n  }, []);\n  useEffect(() => {\n    controller === null || controller === void 0 ? void 0 : controller.updateConfig(config);\n  }, [controller, config]);\n  const readonlyNetwork = useReadonlyNetwork();\n  const [errors, setErrors] = useState((_a = controller === null || controller === void 0 ? void 0 : controller.errors) !== null && _a !== void 0 ? _a : []);\n  const [account, setAccount] = useState(getAccount(controller));\n  const [provider, setProvider] = useState(controller === null || controller === void 0 ? void 0 : controller.getProvider());\n  const [chainId, setChainId] = useState(controller === null || controller === void 0 ? void 0 : controller.chainId);\n  useEffect(() => {\n    if (!(controller === null || controller === void 0 ? void 0 : controller.getProvider())) {\n      setAccount(undefined);\n      setProvider(readonlyNetwork === null || readonlyNetwork === void 0 ? void 0 : readonlyNetwork.provider);\n      setChainId(readonlyNetwork === null || readonlyNetwork === void 0 ? void 0 : readonlyNetwork.chainId);\n      setErrors([]);\n    } else {\n      setChainId(controller.chainId);\n      setErrors(controller.errors);\n      setProvider(controller.getProvider());\n      setAccount(getAccount(controller));\n    }\n    return controller === null || controller === void 0 ? void 0 : controller.updated.on(_ref2 => {\n      let {\n        chainId,\n        errors,\n        accounts\n      } = _ref2;\n      if (chainId) {\n        setChainId(chainId);\n        setProvider(controller.getProvider());\n        if (accounts[0]) {\n          setAccount(getAddress(accounts[0]));\n        } else {\n          setAccount(undefined);\n        }\n      }\n      setErrors([...errors]);\n    });\n  }, [controller, controller === null || controller === void 0 ? void 0 : controller.getProvider()]);\n  const {\n    networks,\n    readOnlyUrls\n  } = useConfig();\n  const [error, setError] = useState(undefined);\n  const networkStates = useReadonlyNetworkStates();\n  const configuredChainIds = Object.keys(readOnlyUrls || {}).map(chainId => parseInt(chainId, 10));\n  const supportedChainIds = networks === null || networks === void 0 ? void 0 : networks.map(network => network.chainId);\n  useEffect(() => {\n    const isNotConfiguredChainId = chainId && configuredChainIds && configuredChainIds.indexOf(chainId) < 0;\n    const isUnsupportedChainId = chainId && supportedChainIds && supportedChainIds.indexOf(chainId) < 0;\n    if (isUnsupportedChainId || isNotConfiguredChainId) {\n      const chainIdError = new Error(`${isUnsupportedChainId ? 'Unsupported' : 'Not configured'} chain id: ${chainId}.`);\n      chainIdError.name = 'ChainIdError';\n      setError(chainIdError);\n      return;\n    }\n    for (const networkState of Object.values(networkStates)) {\n      if (networkState.errors.length > 0) {\n        setError(networkState.errors[networkState.errors.length - 1]);\n        return;\n      }\n    }\n    setError(errors === null || errors === void 0 ? void 0 : errors[errors.length - 1]);\n  }, [chainId, errors, networkStates]);\n  return _jsx(ConnectorContext.Provider, Object.assign({\n    value: {\n      connector: controller,\n      deactivate,\n      reportError,\n      activate: ethersActivate,\n      activateBrowserWallet,\n      isLoading,\n      account,\n      library: provider,\n      chainId: (error === null || error === void 0 ? void 0 : error.name) === 'ChainIdError' ? undefined : provider !== undefined ? chainId : readonlyNetwork === null || readonlyNetwork === void 0 ? void 0 : readonlyNetwork.chainId,\n      error,\n      active: !!provider,\n      switchNetwork,\n      setError: setErrorDeprecated\n    }\n  }, {\n    children: children\n  }));\n}\nexport const useConnector = () => useContext(ConnectorContext);","map":{"version":3,"names":["providers","getAddress","createContext","useCallback","useContext","useEffect","useState","useConfig","useLocalStorage","useReadonlyNetwork","useReadonlyNetworkStates","ConnectorController","InjectedConnector","Provider","getAccount","connector","accounts","undefined","ConnectorContext","activate","deactivate","activateBrowserWallet","reportError","isLoading","setError","Error","active","switchNetwork","ConnectorContextProvider","_ref","children","controller","setController","setLoading","config","connectors","autoConnect","autoConnectTag","setAutoConnectTag","providerOrConnector","silently","onSuccess","arguments","length","wrappedProvider","isProvider","Web3Provider","connectEagerly","error","options","preventDefault","type","err","chainId","setErrorDeprecated","ethersActivate","console","warn","getProvider","updateConfig","readonlyNetwork","errors","setErrors","_a","account","setAccount","provider","setProvider","setChainId","updated","on","_ref2","networks","readOnlyUrls","networkStates","configuredChainIds","Object","keys","map","parseInt","supportedChainIds","network","isNotConfiguredChainId","indexOf","isUnsupportedChainId","chainIdError","name","networkState","values","_jsx","assign","value","library","useConnector"],"sources":["/Users/mcbood/Desktop/unitestask/node_modules/@usedapp/core/src/providers/network/connectors/context.tsx"],"sourcesContent":["import { providers } from 'ethers'\nimport { getAddress } from 'ethers/lib/utils'\nimport { createContext, ReactNode, useCallback, useContext, useEffect, useState } from 'react'\nimport { useConfig, useLocalStorage, useReadonlyNetwork } from '../../../hooks'\nimport { useReadonlyNetworkStates } from '../readonlyNetworks/context'\nimport { Connector } from './connector'\nimport { ConnectorController } from './connectorController'\nimport { InjectedConnector } from './implementations'\n\ntype JsonRpcProvider = providers.JsonRpcProvider\ntype ExternalProvider = providers.ExternalProvider\ntype FallBackProvider = providers.FallbackProvider\nconst Provider = providers.Provider\ntype Web3Provider = providers.Web3Provider\n\nexport type ActivateBrowserWallet = (arg?: { type: string }) => void\n\ntype MaybePromise<T> = Promise<T> | T\n\ntype SupportedProviders =\n  | JsonRpcProvider\n  | ExternalProvider\n  | { getProvider: () => MaybePromise<JsonRpcProvider | ExternalProvider>; activate: () => Promise<any> }\n  | Connector\n\nexport type Web3Ethers = {\n  activate: (provider: SupportedProviders) => Promise<void>\n  /**\n   * @deprecated\n   */\n  setError: (error: Error) => void\n  deactivate: () => void\n  chainId?: number\n  account?: string\n  error?: Error\n  library?: JsonRpcProvider | FallBackProvider\n  active: boolean\n  activateBrowserWallet: ActivateBrowserWallet\n  isLoading: boolean\n  /**\n   * Switch to a different network.\n   */\n  switchNetwork: (chainId: number) => Promise<void>\n}\n\nconst getAccount = (connector: ConnectorController | undefined) => {\n  if (connector?.accounts[0]) {\n    return getAddress(connector.accounts[0])\n  }\n  return undefined\n}\n\ninterface ConnectorContextValue extends Web3Ethers {\n  connector: ConnectorController | undefined\n  deactivate: () => void\n  activateBrowserWallet: ActivateBrowserWallet\n  reportError: (error: Error) => void\n  isLoading: boolean\n}\n\nexport const ConnectorContext = createContext<ConnectorContextValue>({\n  connector: undefined,\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  activate: async () => {},\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  deactivate: () => {},\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  activateBrowserWallet: () => {},\n  //eslint-disable-next-line @typescript-eslint/no-empty-function\n  reportError: () => {},\n  isLoading: false,\n  setError: () => {\n    throw new Error('Function not implemented.')\n  },\n  active: false,\n  switchNetwork: () => {\n    throw new Error('Function not implemented.')\n  },\n})\n\nexport interface ConnectorContextProviderProps {\n  children?: ReactNode\n}\n\nexport interface ActivateOptions {\n  silently?: boolean\n  onSuccess?: () => void\n}\n\nexport function ConnectorContextProvider({ children }: ConnectorContextProviderProps) {\n  const [controller, setController] = useState<ConnectorController>()\n  const [isLoading, setLoading] = useState(false)\n  const config = useConfig()\n  const { connectors, autoConnect } = config\n  const [autoConnectTag, setAutoConnectTag] = useLocalStorage('usedapp:autoConnectTag')\n\n  const activate = useCallback(\n    async (\n      providerOrConnector: JsonRpcProvider | ExternalProvider | Connector,\n      { silently, onSuccess }: ActivateOptions = { silently: false }\n    ) => {\n      let controller: ConnectorController\n      if ('activate' in providerOrConnector) {\n        controller = new ConnectorController(providerOrConnector, config as any)\n      } else {\n        const wrappedProvider = Provider.isProvider(providerOrConnector)\n          ? providerOrConnector\n          : new providers.Web3Provider(providerOrConnector)\n        controller = new ConnectorController(new InjectedConnector(wrappedProvider), config as any)\n      }\n      setLoading(true)\n      setController(controller)\n      try {\n        if (silently) {\n          await controller.activate((connector) => connector.connectEagerly())\n        } else {\n          await controller.activate()\n        }\n\n        setLoading(false)\n        onSuccess?.()\n      } catch (error) {\n        controller.reportError(error as any)\n      } finally {\n        setLoading(false)\n      }\n    },\n    [setController, setLoading]\n  )\n\n  const activateBrowserWallet: ActivateBrowserWallet = useCallback(\n    async (options) => {\n      // done for backward compatibility.\n      // If the options object looks like an event object or is undefined,\n      // it's not a valid option and will be ignored\n      if (!options || typeof (options as any).preventDefault === 'function') {\n        options = { type: 'metamask' }\n      }\n      const { type } = options\n      if (!connectors[type]) {\n        throw new Error(`Connector ${type} is not configured`)\n      }\n      await activate(connectors[type], {\n        onSuccess: () => {\n          setAutoConnectTag(type)\n        },\n      })\n    },\n    [activate, setAutoConnectTag, connectors]\n  )\n\n  const deactivate = useCallback(async () => {\n    setAutoConnectTag(undefined)\n    setLoading(true)\n    setController(undefined)\n    await controller?.deactivate()\n    setLoading(false)\n  }, [controller])\n\n  const reportError: ConnectorContextValue['reportError'] = useCallback(\n    (err) => {\n      controller?.reportError(err)\n    },\n    [controller]\n  )\n\n  const switchNetwork = useCallback(\n    async (chainId: number) => {\n      await controller?.switchNetwork(chainId)\n    },\n    [controller]\n  )\n\n  const setErrorDeprecated = useCallback(() => {\n    throw new Error('setError is deprecated')\n  }, [])\n\n  const ethersActivate = useCallback(async (providerOrConnector: SupportedProviders) => {\n    if ('getProvider' in providerOrConnector) {\n      console.warn('Using web3-react connectors is deprecated and may lead to unexpected behavior.')\n      await providerOrConnector.activate()\n      return activate(await providerOrConnector.getProvider())\n    }\n    return activate(providerOrConnector)\n  }, [])\n\n  useEffect(() => {\n    if (autoConnect && autoConnectTag && connectors[autoConnectTag]) {\n      void activate(connectors[autoConnectTag], {\n        silently: true,\n      })\n    }\n  }, [])\n\n  useEffect(() => {\n    controller?.updateConfig(config)\n  }, [controller, config])\n\n  const readonlyNetwork = useReadonlyNetwork()\n\n  const [errors, setErrors] = useState<Error[]>(controller?.errors ?? [])\n  const [account, setAccount] = useState<string | undefined>(getAccount(controller))\n  const [provider, setProvider] = useState<JsonRpcProvider | Web3Provider | FallBackProvider | undefined>(\n    controller?.getProvider()\n  )\n  const [chainId, setChainId] = useState<number | undefined>(controller?.chainId)\n\n  useEffect(() => {\n    if (!controller?.getProvider()) {\n      setAccount(undefined)\n      setProvider(readonlyNetwork?.provider as JsonRpcProvider | FallBackProvider | undefined)\n      setChainId(readonlyNetwork?.chainId)\n      setErrors([])\n    } else {\n      setChainId(controller.chainId)\n      setErrors(controller.errors)\n      setProvider(controller.getProvider())\n      setAccount(getAccount(controller))\n    }\n\n    return controller?.updated.on(({ chainId, errors, accounts }) => {\n      if (chainId) {\n        setChainId(chainId)\n        setProvider(controller.getProvider())\n        if (accounts[0]) {\n          setAccount(getAddress(accounts[0]))\n        } else {\n          setAccount(undefined)\n        }\n      }\n      setErrors([...errors])\n    })\n  }, [controller, controller?.getProvider()])\n\n  const { networks, readOnlyUrls } = useConfig()\n  const [error, setError] = useState<Error | undefined>(undefined)\n\n  const networkStates = useReadonlyNetworkStates()\n\n  const configuredChainIds = Object.keys(readOnlyUrls || {}).map((chainId) => parseInt(chainId, 10))\n  const supportedChainIds = networks?.map((network) => network.chainId)\n\n  useEffect(() => {\n    const isNotConfiguredChainId = chainId && configuredChainIds && configuredChainIds.indexOf(chainId) < 0\n    const isUnsupportedChainId = chainId && supportedChainIds && supportedChainIds.indexOf(chainId) < 0\n\n    if (isUnsupportedChainId || isNotConfiguredChainId) {\n      const chainIdError = new Error(`${isUnsupportedChainId ? 'Unsupported' : 'Not configured'} chain id: ${chainId}.`)\n      chainIdError.name = 'ChainIdError'\n      setError(chainIdError)\n      return\n    }\n\n    for (const networkState of Object.values(networkStates)) {\n      if (networkState.errors.length > 0) {\n        setError(networkState.errors[networkState.errors.length - 1])\n        return\n      }\n    }\n\n    setError(errors?.[errors.length - 1])\n  }, [chainId, errors, networkStates])\n\n  return (\n    <ConnectorContext.Provider\n      value={{\n        connector: controller,\n        deactivate,\n        reportError,\n        activate: ethersActivate,\n        activateBrowserWallet,\n        isLoading,\n        account,\n        library: provider,\n        chainId:\n          error?.name === 'ChainIdError' ? undefined : provider !== undefined ? chainId : readonlyNetwork?.chainId,\n        error,\n        active: !!provider,\n        switchNetwork,\n        setError: setErrorDeprecated,\n      }}\n    >\n      {children}\n    </ConnectorContext.Provider>\n  )\n}\n\nexport const useConnector = () => useContext(ConnectorContext)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}